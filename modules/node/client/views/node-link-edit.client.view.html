<div class="wrapper wrapper-content animated fadeInRight" data-ng-init="init()">
    <div class="row">
        <div class="col-md-6 col-md-offset-3">
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" id="description" name="description" class="form-control" ng-model="link.description"
                       placeholder="Description of Output" required/>
            </div>

            <div class="form-group">
                <label for="outputLink">Output</label>

                <select id="outputLink" data-ng-model="link.outputId">
                    <option data-ng-repeat="output in outputs track by $index" value="{{output.id}}" data-ng-selected="output.id === link.outputId" required>{{output.name}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="inputLink">Input</label>

                <select id="inputLink" data-ng-model="link.inputId">
                    <option data-ng-repeat="input in inputs track by $index" value="{{input.id}}" data-ng-selected="input.id === link.inputId" required>{{input.name}}</option>
                </select>
            </div>

            <div class="form-group">
                <label for="inputLink">Pipes</label>

                <table class="table table-striped table-bordered table-hover prepend-bottom-10">
                    <tr>
                        <td class="text-center">
                            <strong>Name</strong>
                        </td>

                        <td class="text-center">
                            <strong>Description</strong>
                        </td>

                        <td class="text-center"></td>
                    </tr>

                    <tr data-ng-repeat="pipe in link.pipes track by $index">
                        <td>{{pipe.name}}</td>
                        <td>{{pipe.description}}</td>

                        <td>
                            <button class="btn btn-danger" ng-click="removePipe(pipe.id)">Remove</button>
                        </td>
                    </tr>

                    <tr data-ng-if="!link.pipes.length">
                        <td colspan="3">No pipes for this link</td>
                    </tr>
                </table>

                <select id="inputLink" data-ng-model="selectedPipe" class="prepend-bottom-10">
                    <option data-ng-repeat="pipe in pipes track by $index" value="{{pipe.id}}" required>{{pipe.name}}</option>
                </select>

                <div class="row prepend-top-10">
                    <button class="btn btn-info"
                            ng-click="addPipe(selectedPipe)">Add Pipe</button>
                </div>
            </div>

            <div class="form-group">
                <div data-ng-click="update(link)" class="btn btn-primary">Update</div>
            </div>
        </div>
    </div>
</div>
